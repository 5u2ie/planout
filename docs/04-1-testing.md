---
id: testing
title: Testing
layout: docs
permalink: /docs/testing.html
prev: logging.html
next: interpreter.html
---

One challenge of developing complex randomized experimentsis that they
can be difficult to test. PlanOut makes it possible to test such experiments
through the use of overrides.  Overrides let you "freeze" the value of a variable
so that it does not change during the execution of your assignment procedure.
This lets you test different user experiences generated by your experiment
without having to modify your experiment definition.

## A difficult-to-test experiment
Consider an experiment from Beenen et al's paper,
[Using Social Psychology to Motivate Contributions
to Online Communities](http://repository.cmu.edu/cgi/viewcontent.cgi?article=1087&context=hcii).
To examine questions around social loafing and goal-setting, the experiment
first randomly assigns users to different group sizes, and then to receive
either a general or specific goal. If they are assigned to a specific goal,
they are assigned an additional parameter, the goal, expressed in terms of
ratings per user, for each group size.

The experiment can be expressed in the
[PlanOut language](interpreter.html) as:

```javascript
group_size = uniformChoice(choices=[1, 10], unit=userid);
specific_goal = bernoulliTrial(p=0.8, unit=userid);
if (specific_goal) {
  ratings_per_user_goal = uniformChoice(choices=[8, 16, 32, 64], unit=userid);
  ratings_goal = group_size * ratings_per_user_goal;
}
```

### Testing using the PlanOut editor
The data can then be loaded up via the PlanOut editor (link), which comes
pre-loaded with this sample experiment.  You can try out various userids
interactively by specifying the inputs and overrides in JSON format, as depicted
in the screenshot below.

(screenshot).
### Python implementation.

Using the Python-based PlanOut framework, Beenen et al.'s experiment can be
defined as follows:
 
```python
class MotivationExperiment(SimpleExperiment):
  def assign(self, params, userid):
    params.group_size = UniformChoice(choices=[1, 10], unit=userid)
    params.specific_goal = BernoulliTrial(p=0.8, unit=userid)
    if params.specific_goal:
      params.ratings_per_user_goal = UniformChoice(
        choices=[8, 16, 32, 64], unit=userid)
      params.ratings_goal = params.group_size * params.ratings_per_user_goal
    return e
```

We can see how the code randomly assigns users 

```python
e = MotivationExperiment(userid=6)
print e.get_params()
```

```
{'group_size': 10, 'specific_goal': 0}
```

```python
e = MotivationExperiment(userid=6)
e.set_overrides({'specific_goal': 1})
print e.get_params()
```

```
{'specific_goal': 1, 'ratings_goal': 640, 'group_size': 10, 'ratings_per_user_goal': 64}
```

```python
e = MotivationExperiment(userid=6)
e.set_overrides({'specific_goal': 1, 'ratings_per_user_goal': 16})
print e.get_params()
```

```
{'specific_goal': 1, 'ratings_goal': 160, 'group_size': 10, 'ratings_per_user_goal': 16}
```

